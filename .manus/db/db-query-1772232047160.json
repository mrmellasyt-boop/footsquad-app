{
  "query": "\n-- Supprimer toutes les données NPC liées aux matches 240011-240013\nDELETE FROM match_players WHERE matchId IN (240011,240012,240013);\nDELETE FROM match_requests WHERE matchId IN (240011,240012,240013);\nDELETE FROM ratings WHERE matchId IN (240011,240012,240013);\nDELETE FROM motm_votes WHERE matchId IN (240011,240012,240013);\nDELETE FROM matches WHERE id IN (240011,240012,240013);\n\n-- Supprimer tous les joueurs NPC (tous les IDs 120xxx et 300xxx)\nDELETE FROM match_players WHERE playerId IN (SELECT id FROM players WHERE userId IN (SELECT id FROM users WHERE openId LIKE 'npc_%'));\nDELETE FROM ratings WHERE raterId IN (SELECT id FROM players WHERE userId IN (SELECT id FROM users WHERE openId LIKE 'npc_%'));\nDELETE FROM ratings WHERE ratedPlayerId IN (SELECT id FROM players WHERE userId IN (SELECT id FROM users WHERE openId LIKE 'npc_%'));\nDELETE FROM motm_votes WHERE voterId IN (SELECT id FROM players WHERE userId IN (SELECT id FROM users WHERE openId LIKE 'npc_%'));\nDELETE FROM motm_votes WHERE votedPlayerId IN (SELECT id FROM players WHERE userId IN (SELECT id FROM users WHERE openId LIKE 'npc_%'));\nDELETE FROM highlights WHERE playerId IN (SELECT id FROM players WHERE userId IN (SELECT id FROM users WHERE openId LIKE 'npc_%'));\nDELETE FROM highlight_likes WHERE playerId IN (SELECT id FROM players WHERE userId IN (SELECT id FROM users WHERE openId LIKE 'npc_%'));\nDELETE FROM chat_messages WHERE senderId IN (SELECT id FROM players WHERE userId IN (SELECT id FROM users WHERE openId LIKE 'npc_%'));\nDELETE FROM follows WHERE followerId IN (SELECT id FROM players WHERE userId IN (SELECT id FROM users WHERE openId LIKE 'npc_%'));\nDELETE FROM follows WHERE followedId IN (SELECT id FROM players WHERE userId IN (SELECT id FROM users WHERE openId LIKE 'npc_%'));\nDELETE FROM notifications WHERE playerId IN (SELECT id FROM players WHERE userId IN (SELECT id FROM users WHERE openId LIKE 'npc_%'));\nDELETE FROM players WHERE userId IN (SELECT id FROM users WHERE openId LIKE 'npc_%');\n\n-- Supprimer les équipes NPC\nDELETE FROM teams WHERE name LIKE '%Eagles%' OR name LIKE '%Lions%';\n\n-- Supprimer les users NPC\nDELETE FROM users WHERE openId LIKE 'npc_%';\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway04.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3nFQKwthWdG3fpb.root --database Y4PCeNWNUZAwiWRqW9iqRW --execute \n-- Supprimer toutes les données NPC liées aux matches 240011-240013\nDELETE FROM match_players WHERE matchId IN (240011,240012,240013);\nDELETE FROM match_requests WHERE matchId IN (240011,240012,240013);\nDELETE FROM ratings WHERE matchId IN (240011,240012,240013);\nDELETE FROM motm_votes WHERE matchId IN (240011,240012,240013);\nDELETE FROM matches WHERE id IN (240011,240012,240013);\n\n-- Supprimer tous les joueurs NPC (tous les IDs 120xxx et 300xxx)\nDELETE FROM match_players WHERE playerId IN (SELECT id FROM players WHERE userId IN (SELECT id FROM users WHERE openId LIKE 'npc_%'));\nDELETE FROM ratings WHERE raterId IN (SELECT id FROM players WHERE userId IN (SELECT id FROM users WHERE openId LIKE 'npc_%'));\nDELETE FROM ratings WHERE ratedPlayerId IN (SELECT id FROM players WHERE userId IN (SELECT id FROM users WHERE openId LIKE 'npc_%'));\nDELETE FROM motm_votes WHERE voterId IN (SELECT id FROM players WHERE userId IN (SELECT id FROM users WHERE openId LIKE 'npc_%'));\nDELETE FROM motm_votes WHERE votedPlayerId IN (SELECT id FROM players WHERE userId IN (SELECT id FROM users WHERE openId LIKE 'npc_%'));\nDELETE FROM highlights WHERE playerId IN (SELECT id FROM players WHERE userId IN (SELECT id FROM users WHERE openId LIKE 'npc_%'));\nDELETE FROM highlight_likes WHERE playerId IN (SELECT id FROM players WHERE userId IN (SELECT id FROM users WHERE openId LIKE 'npc_%'));\nDELETE FROM chat_messages WHERE senderId IN (SELECT id FROM players WHERE userId IN (SELECT id FROM users WHERE openId LIKE 'npc_%'));\nDELETE FROM follows WHERE followerId IN (SELECT id FROM players WHERE userId IN (SELECT id FROM users WHERE openId LIKE 'npc_%'));\nDELETE FROM follows WHERE followedId IN (SELECT id FROM players WHERE userId IN (SELECT id FROM users WHERE openId LIKE 'npc_%'));\nDELETE FROM notifications WHERE playerId IN (SELECT id FROM players WHERE userId IN (SELECT id FROM users WHERE openId LIKE 'npc_%'));\nDELETE FROM players WHERE userId IN (SELECT id FROM users WHERE openId LIKE 'npc_%');\n\n-- Supprimer les équipes NPC\nDELETE FROM teams WHERE name LIKE '%Eagles%' OR name LIKE '%Lions%';\n\n-- Supprimer les users NPC\nDELETE FROM users WHERE openId LIKE 'npc_%';\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 201
}